## node模块
** Node与浏览器、W3C组织、CommonJS组织、ECMAScript之间的关系**

![](http://or0drint7.bkt.clouddn.com/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20170823220022.png)

### 一、CommonJS的模块规范

**CommonJS对模块定义：模块引用、模块定义、和模块标识。**

#### 1.模块引入

`var math = require('math');`

模块引入要经历三个步骤：

1. 路径分析
2. 文件定位
3. 编译执行

**路径分析：**
node中模块分核心模块(node提供)和文件模块(用户编写)两类。对于核心模块，在node源码中编进了二进制文件，所以引入时省略到后两步，且速度快。文件模块是运行时动态加载的，需要完整的路径分析，文件定位，编译执行过成。

- 优先缓存，不论核心模块还是文件模块，require()方法的二次加载都是优先缓存加载。
